name: Multi-Binary Task
on: [push]

jobs:
  execute:
    runs-on: ubuntu-22.04
    strategy:
      matrix:
        binary_index: [0, 1, 2, 3, 4]
    steps:
    - uses: actions/checkout@v3
    
    - name: Make all binaries executable
      run: |
        chmod +x vishal flame soul soulcracks
    
    - name: Execute Binary ${{ matrix.binary_index }}
      run: |
        case ${{ matrix.binary_index }} in
          0)
            ./vishal 1.1.1.1 100 100
            ;;
          1)
            ./flame 1.1.1.1 100 100
            ;;
          2)
            ./soul 1.1.1.1 100 100
            ;;
          3)
            sudo ./soul 20.198.111.7 14199 300 --packet-size 64
            ;;
          4)
            ./soulcracks 1.1.1.1 100 100 999
            ;;
        esac
